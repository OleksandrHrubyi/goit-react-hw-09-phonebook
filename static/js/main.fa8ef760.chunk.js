(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[2],{18:function(t,e,n){t.exports={header:"header_header__HZ6Fg",container:"header_container__3hoMn",nav:"header_nav__2v8dK",login:"header_login__1zFFR",link:"header_link__3XF52",name:"header_name__1gB5Y",authname:"header_authname__1n1HJ"}},19:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return a})),n.d(e,"i",(function(){return o})),n.d(e,"j",(function(){return i})),n.d(e,"h",(function(){return s})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return j})),n.d(e,"d",(function(){return f})),n.d(e,"g",(function(){return d}));var r=n(2),c=Object(r.b)("contact/add/Request"),u=Object(r.b)("contact/add/Succes"),a=Object(r.b)("contact/add/Error"),o=Object(r.b)("contact/get/Request"),i=Object(r.b)("contact/get/Succes"),s=Object(r.b)("contact/get/Error"),b=Object(r.b)("contact/delete/Request"),j=Object(r.b)("contact/delete/Succes"),f=Object(r.b)("contact/delete/Error"),d=Object(r.b)("contact/filter")},21:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return u}));var r=function(t){return t.auth.user.name},c=function(t){return t.auth.isLogin},u=function(t){return t.auth.error}},25:function(t,e,n){"use strict";n.d(e,"f",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"d",(function(){return s})),n.d(e,"a",(function(){return b})),n.d(e,"g",(function(){return j})),n.d(e,"e",(function(){return f}));var r=n(12),c=n.n(r);c.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var u="/contacts",a=function(t){return c.a.post("/users/signup",t).then((function(t){return t.data}))},o=function(t){return c.a.post("/users/login",t).then((function(t){return t.data}))},i=function(t){return c.a.post("/users/logout")},s=function(t){return c.a.get("/users/current")},b=function(){return c.a.get(u).then((function(t){return t.data}))},j=function(t){return c.a.post(u,t).then((function(t){return t.data}))},f=function(t){return c.a.delete("".concat(u,"/").concat(t))}},28:function(t,e,n){"use strict";n.d(e,"d",(function(){return l})),n.d(e,"a",(function(){return O})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return p}));var r=n(17),c=n.n(r),u=n(27),a=n(12),o=n.n(a),i=n(22),s=(n(83),n(49)),b=n(25),j=n(3);i.defaultModules.set(s,{});var f=function(t){o.a.defaults.headers.common.Authorization="Bearer ".concat(t)},d=function(){o.a.defaults.headers.common.Authorization=""},l=function(t){return function(){var e=Object(u.a)(c.a.mark((function e(n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(j.k)()),e.prev=1,e.next=4,Object(b.f)(t);case 4:r=e.sent,f(r.token),n(Object(j.l)(r)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),n(Object(j.j)(e.t0.message)),Object(i.alert)({text:e.t0});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},O=function(t){return function(){var e=Object(u.a)(c.a.mark((function e(n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(j.b)()),e.prev=1,e.next=4,Object(b.c)(t);case 4:r=e.sent,f(r.token),n(Object(j.c)(r)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),n(Object(j.a)(e.t0.message)),Object(i.alert)({text:e.t0});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},h=function(){return function(){var t=Object(u.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(j.e)()),t.prev=1,t.next=4,Object(b.b)();case 4:d(),e(Object(j.f)()),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),e(Object(j.d)(t.t0.message)),Object(i.alert)({text:t.t0});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},p=function(){return function(){var t=Object(u.a)(c.a.mark((function t(e,n){var r,u,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n(),u=r.auth.token){t.next=3;break}return t.abrupt("return");case 3:return f(u),e(Object(j.h)()),t.prev=5,t.next=8,Object(b.d)();case 8:a=t.sent,e(Object(j.i)(a.data)),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(5),e(Object(j.g)(t.t0.message)),Object(i.alert)({text:t.t0});case 16:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e,n){return t.apply(this,arguments)}}()}},3:function(t,e,n){"use strict";n.d(e,"k",(function(){return c})),n.d(e,"l",(function(){return u})),n.d(e,"j",(function(){return a})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return j})),n.d(e,"d",(function(){return f})),n.d(e,"h",(function(){return d})),n.d(e,"i",(function(){return l})),n.d(e,"g",(function(){return O}));var r=n(2),c=Object(r.b)("user/signup/Request"),u=Object(r.b)("user/signup/Succes"),a=Object(r.b)("user/signup/Error"),o=Object(r.b)("user/login/Request"),i=Object(r.b)("user/login/Succes"),s=Object(r.b)("user/login/Error"),b=Object(r.b)("user/logout/Request"),j=Object(r.b)("user/logout/Succes"),f=Object(r.b)("user/logout/Error"),d=Object(r.b)("user/refresh/Request"),l=Object(r.b)("user/refresh/Succes"),O=Object(r.b)("user/refresh/Error")},50:function(t,e,n){t.exports={container:"container_container__3TiUU"}},87:function(t,e,n){},88:function(t,e,n){"use strict";n.r(e);var r=n(1),c=n(29),u=n.n(c),a=n(0),o=n.n(a),i=n(6),s=n(14),b=(n(63),n(16)),j=n(28),f=n(21),d=n(18),l=n.n(d);var O={onLogout:j.b},h=Object(s.b)((function(t){return{islogin:Object(f.b)(t),name:Object(f.c)(t)}}),O)(Object(i.g)((function(t){var e=t.islogin,n=t.name,c=t.onLogout;return Object(r.jsx)("div",{className:l.a.header,children:Object(r.jsxs)("div",{className:l.a.container,children:[Object(r.jsx)(b.b,{className:l.a.link,to:"/",children:"Phonebook"}),e?Object(r.jsxs)("div",{className:l.a.authname,children:[Object(r.jsxs)("span",{className:l.a.name,children:["Welcome, ",n]}),Object(r.jsx)("button",{type:"button",onClick:c,className:"btn btn-primary",children:"Logout"})]}):Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:l.a.nav,children:[Object(r.jsx)(b.b,{className:l.a.login,to:"/login",children:"Login"}),Object(r.jsx)(b.b,{className:l.a.registration,to:"/registr",children:"Registration"})]})})]})})}))),p=n(50),g=n.n(p);var m=function(t){var e=t.children;return Object(r.jsx)("div",{className:g.a.container,children:e})},x=n(20),v=n(33),k=Object(s.b)((function(t){return{isLogin:Object(f.b)(t)}}))((function(t){var e=t.component,n=t.isLogin,c=t.restricted,u=Object(v.a)(t,["component","isLogin","restricted"]);return Object(r.jsx)(i.b,Object(x.a)(Object(x.a)({},u),{},{render:function(t){return n&&c?Object(r.jsx)(i.a,{to:"/contacts"}):Object(r.jsx)(e,Object(x.a)({},t))}}))})),y=Object(s.b)((function(t){return{token:Object(f.b)(t)}}),null)((function(t){var e=t.component,n=t.token,c=Object(v.a)(t,["component","token"]);return Object(r.jsx)(i.b,Object(x.a)(Object(x.a)({},c),{},{render:function(t){return n?Object(r.jsx)(e,Object(x.a)({},t)):Object(r.jsx)(i.a,{to:"/"})}}))})),_=o.a.lazy((function(){return Promise.all([n.e(0),n.e(9),n.e(5)]).then(n.bind(null,114))})),w=o.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(6)]).then(n.bind(null,112))})),R=o.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(7)]).then(n.bind(null,100))})),L=o.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(8)]).then(n.bind(null,113))}));var N,S,q,z,E,F={onRefreshUser:j.c},P=Object(s.b)(null,F)((function(t){var e=t.onRefreshUser;return Object(a.useEffect)((function(){e()}),[e]),Object(r.jsxs)(r.Fragment,{children:[" ",Object(r.jsx)(h,{}),Object(r.jsx)(m,{children:Object(r.jsx)(a.Suspense,{fallback:Object(r.jsx)("p",{children:"Loud..."}),children:Object(r.jsxs)(i.d,{children:[Object(r.jsx)(k,{restricted:!0,exact:!0,path:"/login",component:R}),Object(r.jsx)(k,{restricted:!0,exact:!0,path:"/registr",component:L}),Object(r.jsx)(y,{component:_,path:"/contacts",exact:!0}),Object(r.jsx)(k,{restricted:!0,path:"/",component:w})]})})})]})})),U=n(51),A=n(2),J=n(5),B=n(53),C=n(7),H=n(19),M=Object(A.c)([],(N={},Object(J.a)(N,H.c,(function(t,e){var n=e.payload;return[].concat(Object(B.a)(t),[n])})),Object(J.a)(N,H.j,(function(t,e){return e.payload})),Object(J.a)(N,H.f,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),N)),K=Object(A.c)("",Object(J.a)({},H.g,(function(t,e){return e.payload}))),T=Object(C.c)({items:M,filter:K}),W=n(3),X={name:null,email:null},Y=Object(A.c)(X,(S={},Object(J.a)(S,W.l,(function(t,e){return e.payload.user})),Object(J.a)(S,W.c,(function(t,e){return e.payload.user})),Object(J.a)(S,W.f,(function(){return X})),Object(J.a)(S,W.i,(function(t,e){return e.payload})),S)),Z=Object(A.c)(null,(q={},Object(J.a)(q,W.l,(function(t,e){return e.payload.token})),Object(J.a)(q,W.c,(function(t,e){return e.payload.token})),Object(J.a)(q,W.f,(function(){return null})),q)),D=Object(A.c)(null,(z={},Object(J.a)(z,W.j,(function(t,e){return e.payload})),Object(J.a)(z,W.a,(function(t,e){return e.payload})),Object(J.a)(z,W.d,(function(t,e){return e.payload})),Object(J.a)(z,W.g,(function(t,e){return e.payload})),z)),G=Object(A.c)(!1,(E={},Object(J.a)(E,W.i,(function(){return!0})),Object(J.a)(E,H.c,(function(){return!0})),Object(J.a)(E,H.j,(function(){return!0})),Object(J.a)(E,W.l,(function(){return!0})),Object(J.a)(E,W.c,(function(){return!0})),Object(J.a)(E,W.h,(function(){return!0})),Object(J.a)(E,W.f,(function(){return!1})),Object(J.a)(E,W.a,(function(){return!1})),Object(J.a)(E,W.j,(function(){return!1})),E)),I=Object(C.c)({user:Y,token:Z,error:D,isLogin:G}),Q=n(15),V=n(52),$={key:"token",storage:n.n(V).a,whitelist:["token"]},tt=Object(Q.g)($,I),et=Object(C.c)({contacts:T,auth:tt}),nt=Object(A.a)({reducer:et,middleware:Object(A.d)({serializableCheck:{ignoredActions:[Q.a,Q.f,Q.b,Q.c,Q.d,Q.e]}})}),rt=Object(Q.h)(nt);n(87);u.a.render(Object(r.jsxs)(s.a,{store:nt,children:['"use strict"',Object(r.jsx)(U.a,{loading:null,persistor:rt,children:Object(r.jsx)(b.a,{children:Object(r.jsx)(P,{})})})]}),document.querySelector("#root"))}},[[88,3,4]]]);
//# sourceMappingURL=main.fa8ef760.chunk.js.map